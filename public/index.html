<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="title" content="Ambient" />
  <meta name="description" content="The better way to browse." />
  <link rel="icon" type="image/x-icon" href="/public/assets/imgs/logo.png" />
  <title>Ambient</title>
  <!-- Critical CSS -->
  <link rel="stylesheet" href="assets/css/global.css" />
  <link rel="stylesheet" href="assets/css/theme/default.css" />
  <!-- Non-critical CSS -->
  <link rel="stylesheet" href="assets/css/rays.css" />
  <link rel="stylesheet" href="assets/css/nav.css" />
  <link rel="stylesheet" href="assets/css/elements/news.css" />
  <link rel="stylesheet" href="assets/css/searchbar.css" />
  <link rel="stylesheet" href="assets/css/shortcuts.css" />
  <link rel="stylesheet" href="assets/css/elements/greeting.css" />
  <link rel="stylesheet" href="assets/css/elements/ping.css" />
  <link rel="stylesheet" href="assets/css/elements/timer.css" />

  <link rel="stylesheet" href="assets/css/elements/time.css" />

  <style>
    /* Front Page Styles */
    #front-page {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
      overflow: hidden;
    }

    #front-page::before {
      content: '';
      position: absolute;
      width: 200%;
      height: 200%;
      background:
        radial-gradient(circle at 20% 50%, rgba(181, 120, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(120, 180, 255, 0.15) 0%, transparent 50%),
        radial-gradient(circle, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
      background-size: 100% 100%, 100% 100%, 50px 50px;
      animation: gridMove 20s ease-in-out infinite, colorPulse 8s ease-in-out infinite;
    }

    @keyframes gridMove {

      0%,
      100% {
        transform: translate(0, 0);
      }

      50% {
        transform: translate(50px, 50px);
      }
    }

    @keyframes colorPulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    .front-content {
      text-align: center;
      z-index: 1;
      padding: 20px;
    }

    .animated-text {
      font-size: 48px;
      font-weight: 700;
      color: #ffffff;
      opacity: 0;
      transform: translateY(30px) scale(0.95);
      margin: 30px 0;
      letter-spacing: 2px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      position: relative;
    }

    .animated-text::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%) scaleX(0);
      width: 80%;
      height: 3px;
      background: linear-gradient(90deg, transparent, rgba(181, 120, 255, 0.8), transparent);
      border-radius: 2px;
    }

    .animated-text.show {
      animation: textReveal 1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .animated-text.show::after {
      animation: underlineReveal 0.8s ease-out 0.3s forwards;
    }

    @keyframes textReveal {
      0% {
        opacity: 0;
        transform: translateY(30px) scale(0.95) rotateX(10deg);
        filter: blur(10px);
      }

      60% {
        transform: translateY(-5px) scale(1.02) rotateX(0deg);
      }

      100% {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0deg);
        filter: blur(0);
      }
    }

    @keyframes underlineReveal {
      0% {
        transform: translateX(-50%) scaleX(0);
        opacity: 0;
      }

      100% {
        transform: translateX(-50%) scaleX(1);
        opacity: 1;
      }
    }

    .animated-text.fade-out {
      animation: textFadeOut 0.6s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
    }

    @keyframes textFadeOut {
      0% {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
      }

      100% {
        opacity: 0;
        transform: translateY(-30px) scale(0.9);
        filter: blur(8px);
      }
    }

    #front-page.hide {
      animation: pageFadeOut 1s cubic-bezier(0.55, 0.085, 0.68, 0.53) forwards;
    }

    @keyframes pageFadeOut {
      0% {
        opacity: 1;
        transform: scale(1);
        filter: blur(0);
      }

      50% {
        opacity: 0.5;
        transform: scale(1.05);
      }

      100% {
        opacity: 0;

        .gradient-text {
          background: linear-gradient(135deg, #ffffff, #b578ff, #78b4ff, #ffffff);
          background-size: 200% auto;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          animation: gradientFlow 3s ease-in-out infinite;
        }

        @keyframes gradientFlow {

          0%,
          100% {
            background-position: 0% center;
          }

          50% {
            background-position: 100% center;
          }
        }

        .gradient-text {
          background: linear-gradient(135deg, #ffffff, #a0a0a0);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .creator-text {
          font-size: 18px;
          font-weight: 400;
          color: rgba(255, 255, 255, 0.6);
          margin-top: 10px;
          letter-spacing: 1px;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }

          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        @keyframes gradientShift {

          0%,
          100% {
            background-position: 0% 50%;
          }

          50% {
            background-position: 100% 50%;
          }
        }

        @keyframes shimmer {
          0% {
            background-position: -1000px 0;
          }

          100% {
            background-position: 1000px 0;
          }
        }

        @keyframes pulse {

          0%,
          100% {
            opacity: 1;
          }

          50% {
            opacity: 0.5;
          }
        }

        .overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: var(--bg);
          backdrop-filter: blur(15px) saturate(180%);
          -webkit-backdrop-filter: blur(15px) saturate(180%);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
          animation: fadeIn 0.3s ease-out;
        }

        .overlay-content {
          background: var(--element-bg);
          border: 2px solid transparent;
          background-clip: padding-box;
          position: relative;
          border-radius: 20px;
          padding: 40px 35px;
          text-align: center;
          max-width: 550px;
          width: 90%;
          color: var(--text);
          box-shadow:
            0 25px 50px -12px rgba(0, 0, 0, 0.5),
            0 0 0 1px rgba(78, 205, 196, 0.1),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
          animation: fadeIn 0.4s ease-out 0.1s both;
        }

        .overlay-content::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg,
              #4ecdc4 0%,
              #10b981 25%,
              #06b6d4 50%,
              #10b981 75%,
              #4ecdc4 100%);
          background-size: 200% 100%;
          animation: gradientShift 4s ease-in-out infinite;
          border-radius: 20px 20px 0 0;
        }

        .overlay-content::after {
          content: '';
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          background: linear-gradient(135deg,
              rgba(78, 205, 196, 0.3),
              rgba(16, 185, 129, 0.3),
              rgba(6, 182, 212, 0.3));
          border-radius: 20px;
          z-index: -1;
          opacity: 0.5;
          filter: blur(10px);
        }

        .overlay-content h2 {
          margin: 0 0 15px 0;
          font-size: 32px;
          font-weight: 700;
          background: linear-gradient(135deg, #4ecdc4, #10b981, #06b6d4);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
          letter-spacing: -0.5px;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 12px;
        }

        .overlay-content h2::before {
          content: 'ðŸš€';
          font-size: 36px;
          animation: pulse 2s ease-in-out infinite;
        }

        .overlay-content p {
          margin: 0 0 25px 0;
          color: rgba(255, 255, 255, 0.85);
          line-height: 1.7;
          font-size: 16px;
          font-weight: 400;
        }

        .overlay-content .subtitle {
          font-size: 14px;
          color: rgba(255, 255, 255, 0.6);
          margin-bottom: 20px;
          font-style: italic;
        }

        .overlay-content .links {
          display: flex;
          flex-direction: column;
          gap: 12px;
          margin: 25px 0;
        }

        .overlay-content a {
          display: flex;
          align-items: center;
          justify-content: space-between;
          color: #4ecdc4;
          text-decoration: none;
          padding: 16px 20px;
          background: linear-gradient(135deg,
              rgba(78, 205, 196, 0.08) 0%,
              rgba(16, 185, 129, 0.08) 100%);
          border: 1.5px solid rgba(78, 205, 196, 0.25);
          border-radius: 12px;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          font-family: 'Monaco', 'Menlo', 'Courier New', monospace;
          font-size: 13px;
          position: relative;
          overflow: hidden;
        }

        .overlay-content a::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg,
              transparent,
              rgba(78, 205, 196, 0.15),
              transparent);
          transition: left 0.5s ease;
        }

        .overlay-content a:hover::before {
          left: 100%;
        }

        .overlay-content a::after {
          content: 'â†’';
          font-size: 18px;
          opacity: 0;
          transform: translateX(-10px);
          transition: all 0.3s ease;
        }

        .overlay-content a:hover {
          background: linear-gradient(135deg,
              rgba(78, 205, 196, 0.18) 0%,
              rgba(16, 185, 129, 0.18) 100%);
          border-color: #4ecdc4;
          transform: translateX(5px);
          box-shadow:
            0 8px 20px rgba(78, 205, 196, 0.25),
            inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .overlay-content a:hover::after {
          opacity: 1;
          transform: translateX(0);
        }

        .overlay-content a:active {
          transform: translateX(3px) scale(0.98);
        }

        .overlay-content a span {
          flex: 1;
          text-align: left;
          word-break: break-all;
        }

        #close-notice {
          margin-top: 30px;
          padding: 14px 32px;
          background: linear-gradient(135deg, #4ecdc4 0%, #10b981 100%);
          color: white;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          font-weight: 700;
          font-size: 15px;
          letter-spacing: 0.5px;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow:
            0 4px 15px rgba(78, 205, 196, 0.35),
            inset 0 1px 0 rgba(255, 255, 255, 0.2);
          position: relative;
          overflow: hidden;
        }

        #close-notice::before {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 0;
          height: 0;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.3);
          transform: translate(-50%, -50%);
          transition: width 0.5s ease, height 0.5s ease;
        }

        #close-notice:hover::before {
          width: 300px;
          height: 300px;
        }

        #close-notice:hover {
          transform: translateY(-3px);
          box-shadow:
            0 8px 25px rgba(78, 205, 196, 0.45),
            inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        #close-notice:active {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(78, 205, 196, 0.35);
        }

        #close-notice span {
          position: relative;
          z-index: 1;
        }

        @media (max-width: 600px) {
          .overlay-content {
            padding: 30px 25px;
            max-width: 95%;
          }

          .overlay-content h2 {
            font-size: 26px;
          }

          .overlay-content a {
            padding: 14px 16px;
            font-size: 12px;
          }
        }

        /* Learn More Button */
        .learn-more-btn {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border: 1px solid rgba(255, 255, 255, 0.2);
          padding: 8px 18px;
          border-radius: 20px;
          font-size: 13px;
          font-weight: 600;
          cursor: pointer;
          margin-left: 12px;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
          position: relative;
          overflow: hidden;
          letter-spacing: 0.5px;
        }

        .learn-more-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.5s ease;
        }

        .learn-more-btn:hover::before {
          left: 100%;
        }

        .learn-more-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 20px rgba(102, 126, 234, 0.5);
          background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
          border-color: rgba(255, 255, 255, 0.4);
        }

        .learn-more-btn:active {
          transform: translateY(0);
        }

        /* Limitations Overlay */
        .limitations-content {
          max-width: 650px;
          max-height: 85vh;
          width: 90%;
          padding: 0 !important; /* Override default padding for flex layout */
          display: flex;
          flex-direction: column;
          background: #1a1a2e; /* Fallback */
          background: linear-gradient(145deg, #1a1a2e, #16213e);
          border: 1px solid rgba(255, 255, 255, 0.1);
          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
          overflow: hidden;
        }

        .limitations-header {
          padding: 30px 30px 20px 30px;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 15px;
          background: rgba(22, 33, 62, 0.5);
          border-bottom: 1px solid rgba(255, 255, 255, 0.05);
          flex-shrink: 0;
        }

        .limitations-header i {
          color: #ff6b6b;
          font-size: 28px;
          filter: drop-shadow(0 0 10px rgba(255, 107, 107, 0.4));
        }

        .limitations-header h2 {
          font-size: 24px;
          margin: 0;
          color: white;
          background: linear-gradient(135deg, #fff, #e0e0e0);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
        }

        .limitations-body {
          padding: 25px 30px;
          overflow-y: auto;
          flex-grow: 1;
          scrollbar-width: thin;
          scrollbar-color: rgba(102, 126, 234, 0.3) transparent;
        }

        .limitations-body::-webkit-scrollbar {
          width: 6px;
        }

        .limitations-body::-webkit-scrollbar-track {
          background: transparent;
        }

        .limitations-body::-webkit-scrollbar-thumb {
          background-color: rgba(102, 126, 234, 0.3);
          border-radius: 20px;
        }

        .limitations-intro {
          text-align: center;
          font-size: 15px;
          color: rgba(255, 255, 255, 0.8);
          margin-bottom: 25px;
          line-height: 1.6;
        }

        .limitation-section {
          background: rgba(255, 255, 255, 0.03);
          border-radius: 12px;
          padding: 18px;
          margin-bottom: 15px;
          border: 1px solid rgba(255, 255, 255, 0.08);
          transition: transform 0.2s ease;
        }

        .limitation-section:hover {
          transform: translateY(-2px);
          background: rgba(255, 255, 255, 0.05);
        }

        .limitation-section.can-do {
          border-left: 4px solid #4ecdc4;
          background: linear-gradient(90deg, rgba(78, 205, 196, 0.05) 0%, transparent 100%);
        }

        .limitation-section.cannot-do {
          border-left: 4px solid #ff6b6b;
          background: linear-gradient(90deg, rgba(255, 107, 107, 0.05) 0%, transparent 100%);
        }

        .limitation-section.why {
          border-left: 4px solid #667eea;
          background: linear-gradient(90deg, rgba(102, 126, 234, 0.05) 0%, transparent 100%);
        }

        .limitation-section h3 {
          display: flex;
          align-items: center;
          gap: 10px;
          margin: 0 0 12px 0;
          font-size: 18px;
          color: white;
          font-weight: 600;
        }

        .can-do h3 i { color: #4ecdc4; }
        .cannot-do h3 i { color: #ff6b6b; }
        .why h3 i { color: #667eea; }

        .limitation-section ul {
          margin: 0;
          padding-left: 20px;
        }

        .limitation-section li {
          color: rgba(255, 255, 255, 0.75);
          line-height: 1.6;
          margin-bottom: 6px;
          font-size: 14px;
        }

        .limitation-section p {
          color: rgba(255, 255, 255, 0.75);
          line-height: 1.6;
          margin-bottom: 10px;
          font-size: 14px;
        }

        .verification-section {
          background: rgba(0, 0, 0, 0.2);
          border: 1px solid rgba(102, 126, 234, 0.3);
          border-radius: 12px;
          padding: 20px;
          margin-top: 25px;
          text-align: center;
        }

        .verification-text {
          color: white;
          font-size: 15px;
          margin-bottom: 15px;
        }

        #verification-input {
          width: 100%;
          max-width: 350px;
          padding: 12px 20px;
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.15);
          border-radius: 8px;
          color: white;
          font-size: 14px;
          text-align: center;
          transition: all 0.3s ease;
        }

        #verification-input:focus {
          outline: none;
          border-color: #667eea;
          background: rgba(255, 255, 255, 0.1);
          box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
        }

        .limitations-close-btn {
          margin: 0 30px 30px 30px;
          padding: 14px 40px;
          background: linear-gradient(135deg, #4ecdc4 0%, #10b981 100%);
          color: white;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          font-weight: 700;
          font-size: 16px;
          transition: all 0.3s ease;
          box-shadow: 0 4px 15px rgba(78, 205, 196, 0.35);
          flex-shrink: 0;
          align-self: center;
          width: calc(100% - 60px);
          text-transform: uppercase;
          letter-spacing: 1px;
        }

        .limitations-close-btn:disabled {
          background: linear-gradient(135deg, #4a4a4a, #5a5a5a);
          cursor: not-allowed;
          opacity: 0.7;
          box-shadow: none;
          color: rgba(255, 255, 255, 0.5);
        }

        .limitations-close-btn:not(:disabled):hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(78, 205, 196, 0.5);
          background: linear-gradient(135deg, #10b981 0%, #4ecdc4 100%);
        }

        @media (max-width: 768px) {
          .limitations-content {
            height: 90vh;
            max-height: 90vh;
            width: 95%;
          }
          
          .limitations-header { padding: 20px; }
          .limitations-body { padding: 15px 20px; }
          .limitations-close-btn { 
            margin: 0 20px 20px 20px; 
            width: calc(100% - 40px);
          }
        }
  </style>

</head>

<body>
  <!-- Front Page -->
  <div id="front-page">
    <div class="front-content">
      <div class="animated-text" id="text1">
        <span class="gradient-text">Welcome to Ambient Proxy</span>
        <div class="creator-text">by Junyu</div>
      </div>
      <div class="animated-text" id="text2">
        <span class="gradient-text">Fast, Secure, and Anonymous Browsing</span>
      </div>
      <div class="animated-text" id="text3">
        <span class="gradient-text">Your Gateway to Unrestricted Browsing</span>
      </div>
    </div>
  </div>

  <div id="notice-overlay" class="overlay">
    <div class="overlay-content">
      <h2>Alternative Proxies</h2>
      <p>If the main proxy doesn't work, try these alternative instances:</p>
      <p class="subtitle">Click any link to visit directly, or close to continue with the main instance</p>
      <div class="links">
        <a href="https://proxyyy-wrxa.onrender.com/" target="_blank">
          <span>https://proxyyy-wrxa.onrender.com/</span>
        </a>
        <a href="https://proxyyyy-pi.vercel.app" target="_blank">
          <span>https://proxyyyy-pi.vercel.app</span>
        </a>
        <a href="https://proxyyy-dusky-five.vercel.app" target="_blank">
          <span>https://proxyyy-dusky-five.vercel.app</span>
        </a>
        <a href="https://proxy-zeta-gilt.vercel.app/" target="_blank">
          <span>https://proxy-zeta-gilt.vercel.app/</span>
        </a>
        <a href="https://proxyy-sepia-tau.vercel.app" target="_blank">
          <span>https://proxyy-sepia-tau.vercel.app</span>
        </a>
      </div>
      <button id="close-notice"><span>Continue to Main Site</span></button>
    </div>
  </div>

  <!-- Limitations Overlay -->
  <div id="limitations-overlay" class="overlay" style="display: none;">
    <div class="overlay-content limitations-content">
      <div class="limitations-header">
        <i data-lucide="alert-triangle"></i>
        <h2>Proxy Limitations & Important Notice</h2>
      </div>

      <div class="limitations-body">
        <p class="limitations-intro">This proxy has technical limitations. Please understand what it CAN and CANNOT do:
        </p>

        <div class="limitation-section can-do">
          <h3><i data-lucide="check-circle"></i> What Works</h3>
          <ul>
            <li>Basic URL obfuscation and privacy</li>
            <li>Routing traffic through bare server</li>
            <li>Content rewriting (HTML/CSS/JS)</li>
            <li>Cookie and header management</li>
            <li>Simple sites without bot protection</li>
          </ul>
        </div>

        <div class="limitation-section cannot-do">
          <h3><i data-lucide="x-circle"></i> What Does NOT Work</h3>
          <ul>
            <li><strong>Google reCAPTCHA</strong> (v2/v3) - Cannot bypass</li>
            <li><strong>Cloudflare bot detection</strong> - Turnstile, WAF, challenges blocked</li>
            <li><strong>TLS fingerprinting</strong> - Browser detection at connection level</li>
            <li><strong>Canvas/WebGL fingerprinting</strong> - Unique device identification</li>
            <li><strong>Advanced bot protection</strong> - Machine learning detection systems</li>
            <li><strong>IP reputation checks</strong> - Server IPs may be flagged</li>
          </ul>
        </div>

        <div class="limitation-section why">
          <h3><i data-lucide="info"></i> Why These Limitations Exist</h3>
          <p>Modern websites use sophisticated detection methods including TLS fingerprinting, JavaScript challenges,
            behavioral analysis, and machine learning to identify proxies and bots. Bypassing these systems:</p>
          <ul>
            <li>Often violates Terms of Service</li>
            <li>May be illegal in many jurisdictions</li>
            <li>Requires expensive residential IPs and complex techniques</li>
            <li>Is actively prevented by security systems</li>
          </ul>
        </div>

        <div class="verification-section">
          <p class="verification-text"><strong>To acknowledge you understand these limitations, please type "I
              understand" below:</strong></p>
          <input type="text" id="verification-input" placeholder="Type 'I understand' here" autocomplete="off" />
          <p class="verification-hint">Full address URLs are required (e.g., https://example.com)</p>
        </div>
      </div>

      <button id="close-limitations" class="limitations-close-btn" disabled>
        <span>Continue</span>
      </button>
    </div>
  </div>

  <div class="container">
    <div class="raysContain">
      <div class="rays"></div>
    </div>
    <nav>
      <img src="assets/imgs/logo.png" alt="logo" />
      <div class="flex">
        <a href="/">Home</a>
        <a href="/g">Games</a>
        <a href="/a">Apps</a>
        <a href="/about">About</a>
        <a href="/devlogs">Dev Logs</a>
      </div>
      <div id="settings-btn" style="cursor: pointer; display: flex; align-items: center;">
        <i data-lucide="settings"></i>
      </div>
    </nav>
    <div class="news">
      <i data-lucide=""></i>
      <p></p>
    </div>
    <h1 class="title">Ambient</h1>
    <div class="searchbarContainer">
      <i data-lucide="search"></i>
      <form id="uv-form">
        <input class="searchbar" id="searchbar" type="text" required />
      </form>
    </div>
    <div class="search-notice">
      <i data-lucide="info"></i>
      <span>Tip: Write full website links (e.g., https://google.com) as Google blocks direct access</span>
      <button id="learn-more-btn" class="learn-more-btn">Learn More</button>
    </div>
    <div class="trouble-button">
      <a href="/troubleshooting" class="trouble-link">
        <i data-lucide="help-circle"></i>
        Having Trouble?
      </a>
    </div>
    <div id="greeting"></div>
    <div class="pingCounter">
      <div id="pingDot" class="dot"></div>
      <span id="pingValue"></span>
    </div>
    <div id="timeDisplay"></div>
    <div id="studyTimer"></div>

    <footer>
      <a href="https://github.com/jjtjtyt6644/proxyyy" target="_blank">GitHub</a>
      <span>\</span>

    </footer>
  </div>
  <script src="assets/js/index.js"></script>
  <script src="assets/js/shortcuts.js"></script>
  <script src="assets/js/elements/greeting.js"></script>
  <script src="assets/js/elements/ping.js"></script>
  <script src="assets/js/elements/time.js"></script>
  <script src="assets/js/elements/timer.js"></script>
  <script src="assets/js/settings.js"></script>


  <!-- UV Files -->
  <script src="/search/bundle.js"></script>
  <script src="/search/config.js"></script>
  <!-- DO NOT REMOVE -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
  </script>
  <!-- DO NOT REMOVE -->
  <script>
    document.getElementById('close-notice').addEventListener('click', function () {
      document.getElementById('notice-overlay').style.display = 'none';
    });

    // Learn More button functionality
    document.getElementById('learn-more-btn').addEventListener('click', function () {
      document.getElementById('limitations-overlay').style.display = 'flex';
      lucide.createIcons(); // Re-initialize icons in the overlay
    });

    // Verification input and close button
    const verificationInput = document.getElementById('verification-input');
    const closeLimitationsBtn = document.getElementById('close-limitations');

    verificationInput.addEventListener('input', function () {
      const inputValue = this.value.trim().toLowerCase();
      if (inputValue === 'i understand') {
        closeLimitationsBtn.disabled = false;
        closeLimitationsBtn.style.cursor = 'pointer';
      } else {
        closeLimitationsBtn.disabled = true;
        closeLimitationsBtn.style.cursor = 'not-allowed';
      }
    });

    closeLimitationsBtn.addEventListener('click', function () {
      if (!this.disabled) {
        document.getElementById('limitations-overlay').style.display = 'none';
        verificationInput.value = ''; // Reset input
        this.disabled = true; // Reset button state
      }
    });
  </script>
  <script>
    const form = document.getElementById('uv-form');
    const address = document.getElementById('searchbar');
    const searchEngine = document.getElementById('uv-search-engine');
    const error = document.getElementById('uv-error');
    const errorCode = document.getElementById('uv-error-code');
    const input = document.querySelector('input');

    function search(input) {
      input = input.trim();

      // Prevent empty or invalid inputs
      if (!input || input.length < 2) {
        return 'https://google.com/search?q=';
      }

      const searchTemplate = localStorage.getItem('engine') || 'https://google.com/search?q=%s';

      try {
        const url = new URL(input);
        // Validate protocol
        if (!['http:', 'https:'].includes(url.protocol)) {
          throw new Error('Invalid protocol');
        }
        return url.toString();
      } catch (err) {
        try {
          const url = new URL(`http://${input}`);
          if (url.hostname.includes('.') && url.hostname.length > 3) {
            return url.toString();
          }
          throw new Error('Invalid hostname');
        } catch (err) {
          return searchTemplate.replace('%s', encodeURIComponent(input));
        }
      }
    }

    if ('serviceWorker' in navigator) {
      var proxySetting = 'uv';
      let swConfig = {
        uv: { file: '/search/sw.js', config: __uv$config },
      };

      let { file: swFile, config: swConfigSettings } = swConfig[proxySetting];

      navigator.serviceWorker
        .register(swFile, { scope: swConfigSettings.prefix })
        .then((registration) => {
          console.log('ServiceWorker registration successful with scope: ', registration.scope);
          form.addEventListener('submit', async (event) => {
            event.preventDefault();
            let encodedUrl = swConfigSettings.prefix + __uv$config.encodeUrl(search(address.value));
            sessionStorage.setItem('encodedUrl', encodedUrl);
            location.href = '/search';
          });
        })
        .catch((error) => {
          console.error('ServiceWorker registration failed:', error);
        });
    }

    // Front Page Animation Script
    (function () {
      const frontPage = document.getElementById('front-page');
      const text1 = document.getElementById('text1');
      const text2 = document.getElementById('text2');
      const text3 = document.getElementById('text3');
      const noticeOverlay = document.getElementById('notice-overlay');

      let currentStep = 0;
      let timeouts = [];

      // Check if animation has been shown before
      const hasSeenAnimation = localStorage.getItem('ambientAnimationShown');

      if (hasSeenAnimation === 'true') {
        // Skip animation, show overlay directly
        frontPage.style.display = 'none';
        noticeOverlay.style.display = 'flex';
        return;
      }

      // Hide notice overlay initially
      noticeOverlay.style.display = 'none';

      function clearAllTimeouts() {
        timeouts.forEach(timeout => clearTimeout(timeout));
        timeouts = [];
      }

      function completeAnimation() {
        localStorage.setItem('ambientAnimationShown', 'true');
        frontPage.style.display = 'none';
        noticeOverlay.style.display = 'flex';
      }

      function goToNextStep() {
        clearAllTimeouts();

        if (currentStep === 0) {
          text1.classList.remove('show', 'fade-out');
          text1.classList.add('fade-out');
          timeouts.push(setTimeout(() => {
            text2.classList.add('show');
            currentStep = 1;
          }, 100));
        } else if (currentStep === 1) {
          text2.classList.remove('show', 'fade-out');
          text2.classList.add('fade-out');
          timeouts.push(setTimeout(() => {
            text3.classList.add('show');
            currentStep = 2;
          }, 100));
        } else if (currentStep === 2) {
          text3.classList.remove('show', 'fade-out');
          text3.classList.add('fade-out');
          frontPage.classList.add('hide');
          timeouts.push(setTimeout(() => {
            completeAnimation();
          }, 800));
        }
      }

      // Add click listener to skip animations
      frontPage.addEventListener('click', goToNextStep);
      frontPage.style.cursor = 'pointer';

      // Animation sequence
      timeouts.push(setTimeout(() => {
        text1.classList.add('show');
        currentStep = 0;
      }, 500));

      timeouts.push(setTimeout(() => {
        text1.classList.add('fade-out');
      }, 2500));

      timeouts.push(setTimeout(() => {
        text2.classList.add('show');
        currentStep = 1;
      }, 3500));

      timeouts.push(setTimeout(() => {
        text2.classList.add('fade-out');
      }, 5500));

      timeouts.push(setTimeout(() => {
        text3.classList.add('show');
        currentStep = 2;
      }, 6500));

      timeouts.push(setTimeout(() => {
        text3.classList.add('fade-out');
        frontPage.classList.add('hide');
      }, 8500));

      timeouts.push(setTimeout(() => {
        completeAnimation();
      }, 9500));
    })();
  </script>
</body>

</html>